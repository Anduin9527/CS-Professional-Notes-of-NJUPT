# 数字电路

## 时序逻辑电路

>在数字电路中，凡是任一时刻的稳定输出不仅决定于该时刻的输入，而且还和电路原来的状态有关者，都叫做时序逻辑电路，简称时序电路

+ 时序电路的特点：具有**记忆**功能
+ 时序电路的基本单元：触发器
+ 常用时序电路：寄存器，移位寄存器，计数器与序列信号发生器
+ 时序电路包括三个方程：
  1. 激励方程：$W = F(X, Q^n)$
  2. 输出方程：$H(X, Q^n)$
  3. 状态方程：$Q^{n+1} = G(W,Q^n)$

### 寄存器

>  在数字电路中，用来存放一组二进制数据或代码的电路称为寄存器。寄存器是计算机的主要部件之一，它用来暂时存放数据或指令。
>
>  寄存器是由具有存储功能的触发器组合起来构成的。**一个触发器可以存储1位二进制代码，存放n位二进制代码的寄存器，需用n个触发器来构成。**

#### 输入输出方式

1. 并行方式

   每一位数据对应一个输入端（或输出端）。在时钟脉冲作用下，各位同时输入（或输出）。

2. 串行方式

   只有一个输入端（或输出端）。在时钟脉冲作用下，各数码逐位输入（或输出）。

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506092118.png" alt="image-20220506092118714" style="zoom:67%;" /><img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506092216.png" alt="image-20220506092216744" style="zoom:80%;" />

#### MSI寄存器 74175 

##### 工作原理

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506093416.png" alt="image-20220506093416461" style="zoom:67%;" />

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506092635.png" alt="image-20220506092635601" style="zoom:67%;" />

+ 74175是由四个D触发器构成的
+ 这里的 **C1** 是下降沿触发，但是由于 **CP** 过了一个非门，所以还是**上升沿触发**
+ **CR** 控制 **R** 端口，也就是异步置零

##### 逻辑功能

![image-20220506093450838](https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506093450.png)

### 移位寄存器

>​    所谓“移位”，就是将寄存器所存各位 数据，在每个移位脉冲的作用下，向左或向右移动一位。

根据移位方向，常把它分成三种：

+ 左移寄存器
+ 右移寄存器
+ 双向移位寄存器

而根据移位数据的输入输出方式，又可以分成四种：

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506094743.png" alt="image-20220506094742946" style="zoom:50%;" />



#### MSI移存器 74194

>四位串入、并入--串出、并出双向移存器

##### 工作原理

![image-20220506095638093](https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506095638.png)



+ $D_{SR}$、$D_{SL}$右移和左移串行输入端口
+ $D_0D_1D_2D_3$并行输入端口
+ $M_1,M_0$：四功能切换端口

##### 逻辑功能

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220506100432.png" alt="image-20220506100432259" style="zoom:67%;" />

### 计数器

>记忆输入脉冲的个数；用于定时、分频、产生节拍脉冲及进行数字运算等等。

+ 按照工作方式划分：
  + 同步计数器
  + 异步计数器
+ 按照功能划分：
  + 加法计数器
  + 减法计数器
  + 可逆计数器
+ ​	按计数器的容量（模数）：
  + 二进制计数器
  + 十进制计数器

**同步计数器分析步骤：**

```mermaid
graph BT
分析电路结构 --> 写出三组方程
写出三组方程 --> 作状态转移表或波形图
作状态转移表或波形图 --> 电路的逻辑功能描述
```

#### 八进制同步加法计数器

1. 分析电路结构

![image-20220510104324256](https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510104324.png)

2. 写出三组方程

$$
激励方程
\left\{
\begin{aligned}
J_3 &= K_3 =Q_1^nQ_2^n\\
J_2 &= K_2 =Q_1^n\\
J_1 &= K_1 =1
\end{aligned}
\right.
\\
各触发器的次态方程
\left\{
\begin{aligned}
\mathbf{Q}_{3}^{\mathrm{n}+1}&=\left[\left(\mathbf{Q}_{1}{ }^{\mathrm{n}} \mathbf{Q}_{2}{ }^{\mathrm{n}}\right) \oplus \mathbf{Q}_{3}{ }^{\mathrm{n}}\right] \cdot \mathbf{C P} \downarrow\\
\mathbf{Q}_{2}^{\mathrm{n}+1}&=\left[\mathbf{Q}_{1}^{\mathrm{n}} \oplus \mathbf{Q}_{2}^{\mathrm{n}}\right] \cdot \mathbf{C P} \downarrow\\
\mathbf{Q}_{1}^{\mathrm{n}+1}&=\left[\overline{\mathbf{Q}}_{1}^{\mathrm{n}}\right] \cdot \mathbf{C P} \downarrow
\end{aligned}
\right.
\\
电路的输出方程
Z = Q_1^nQ_2^nQ_3^n
$$

3. 状态转移表图，以及波形图

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510105546.png" alt="image-20220510105546318" style="zoom: 50%;" />

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510105353.png" alt="image-20220510105353917" style="zoom:67%;" />

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510105402.png" alt="image-20220510105401957" style="zoom:67%;" />

4. 逻辑功能：该电路是一个同步模8加法计数器电路

总结：其实$Q$充当了$TFF$的功能，$n$位二进制计数器需要$n$个$TFF$

#### 任意进制计数器

1. 分析电路

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510112037.png" alt="image-20220510112037665" style="zoom:80%;" />

2. 三组方程

$$
激励方程
\left\{
\begin{aligned}
J_3 &=Q_1^nQ_2^n , K_3= 1\\
J_2 &= K_2 =Q_1^n\\
J_1 &= \overline {Q_3^n} ,K_1 =1
\end{aligned}
\right.
\\
各触发器的次态方程
\left\{
\begin{aligned}
&\mathbf{Q}_{1}^{\mathrm{n}+1}=\overline{\mathbf{Q}_{3}^{\mathrm{n}}} \cdot \overline{\mathbf{Q}_{1} ^{\mathrm{n}}} \cdot \mathbf{C P} \downarrow \\

&\mathbf{Q}_{2}^{\mathrm{n}+1}=\left(\mathbf{Q}_{2}^{\mathrm{n}} \overline{\mathbf{Q}_{1}^{\mathrm{n}}}+\overline{\mathbf{Q}_{2}^{\mathrm{n}}}
\mathbf{Q}_{1}^{\mathrm{n}}\right) \cdot \mathbf{C P} \downarrow \\

&\mathbf{Q}_{3}^{\mathrm{n}+1}=\overline{\mathbf{Q}_{3}^{\mathrm{n}}} \mathbf{Q}_{2}^{\mathrm{n}} \mathbf{Q}_{1}^{\mathrm{n}} \cdot \mathbf{C P} \downarrow
\end{aligned}
\right.
\\
电路的输出方程
Z = Q_1^nQ_2^nQ_3^n
$$

3. 状态图

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510114843.png" alt="image-20220510114843800" style="zoom: 80%;" />

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510114940.png" alt="image-20220510114940256" style="zoom:67%;" />

+ 存在偏移状态
+ 偏离状态都能自动（经过一个或一个以上的CP脉冲）进入到有效状态中的计数器，称它们具有自启动性。
+ 十进制和任意进制计数器都要检查自启动性。

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510115041.png" alt="image-20220510115041014" style="zoom:67%;" />

4. 逻辑功能：模长为5、具有自启动性的加法计数器

#### MSI二进制计数器

##### 74LS161

工作原理：

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510115817.png" alt="image-20220510115817642" style="zoom:67%;" />

+ $\overline {CR}$：异步清零端口
+ $P,T$：工作模式控制端口
+ $\overline L_D$：同步置数控制端
+ $Q_{CC}$：进位端口

逻辑功能：

<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510120450.png" alt="image-20220510120450089" style="zoom: 67%;" />

异步级联扩展：

![image-20220510120534415](https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510120534.png)

同步级联扩展：

![image-20220510120556525](https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220510120556.png)